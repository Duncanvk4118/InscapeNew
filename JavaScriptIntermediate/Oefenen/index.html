<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      #errors {
        color: red;
      }
    </style>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oefentoets JS | Inscape</title>
  </head>
  <body>
    <form method="post">
      <input
        type="text"
        name="voornaam"
        id="voornaam"
        onkeyup="checkKey('voornaam')"
        placeholder="voornaam"
        required
      />
      <input type="text" name="tv" id="tv" placeholder="tussen voegsel" />
      <input
        type="text"
        name="achternaam"
        id="achternaam"
        placeholder="achternaam"
        onkeyup="checkKey('achternaam')"
        required
      />
      <input
        type="email"
        name="email"
        id="email"
        placeholder="email"
        onkeyup="checkKey('email')"
        required
      />
      <button type="submit" id="verzending" disabled>Verzenden</button>
      <!-- <input type="submit" value="verezen" id="verzending" disabled /> -->
    </form>
    <div id="errors"></div>
    <script>
      let voornaamCheck = "";
      let achternaamCheck = "";
      let emailCheck = "";
      let btn = document.getElementById("verzending");

      function check() {
        if (
          voornaamCheck === "1" &&
          achternaamCheck === "1" &&
          emailCheck === "1"
        ) {
          btn.disabled = false;
        } else {
          btn.disabled = true;
        }
      }

      function checkKey(id) {
        let fouten = document.getElementById("errors");
        let inp = document.getElementById(id);

        //Voornaam Checker
        if (id === "voornaam") {
          if (inp.value.length >= 3) {
            // console.log(id + " is goed!");
            inp.style.backgroundColor = "lightgreen";
            fouten.innerHTML = "";
            voornaamCheck = "1";
          } else if (inp.value.length == 0) {
            inp.style.backgroundColor = "white";
            fouten.innerHTML = "";
          } else {
            voornaamCheck = "0";
            inp.style.backgroundColor = "red";
          }
        }

        if (id === "achternaam") {
          if (inp.value.length >= 4) {
            // console.log(id + " is goed!");
            inp.style.backgroundColor = "lightgreen";
            fouten.innerHTML = "";
            achternaamCheck = "1";
          } else if (inp.value.length == 0) {
            inp.style.backgroundColor = "white";
            fouten.innerHTML = "";
          } else {
            achternaamCheck = "0";
            inp.style.backgroundColor = "red";
          }
        }

        if (id === "email") {
          if (inp.value.length >= 10 && inp.value.includes("@")) {
            // console.log(id + " is goed!");
            inp.style.backgroundColor = "lightgreen";
            fouten.innerHTML = "";
            emailCheck = "1";
          } else if (inp.value.length == 0) {
            inp.style.backgroundColor = "white";
            fouten.innerHTML = "";
          } else {
            emailCheck = "0";
            inp.style.backgroundColor = "red";
          }
        }
        check();
      }
    </script>
  </body>
</html>
